(()=>{var e={536:function(e){e.exports=function(){var e="__v-click-outside",t="undefined"!=typeof window,n="undefined"!=typeof navigator,r=t&&("ontouchstart"in window||n&&navigator.msMaxTouchPoints>0)?["touchstart"]:["click"];function a(e){var t=e.event,n=e.handler;(0,e.middleware)(t)&&n(t)}function s(t,n){var s=function(e){var t="function"==typeof e;if(!t&&"object"!=typeof e)throw new Error("v-click-outside: Binding value must be a function or an object");return{handler:t?e:e.handler,middleware:e.middleware||function(e){return e},events:e.events||r,isActive:!(!1===e.isActive),detectIframe:!(!1===e.detectIframe),capture:!!e.capture}}(n.value),i=s.handler,o=s.middleware,c=s.detectIframe,u=s.capture;if(s.isActive){if(t[e]=s.events.map((function(e){return{event:e,srcTarget:document.documentElement,handler:function(e){return function(e){var t=e.el,n=e.event,r=e.handler,s=e.middleware,i=n.composedPath&&n.composedPath()||n.path;(i?i.indexOf(t)<0:!t.contains(n.target))&&a({event:n,handler:r,middleware:s})}({el:t,event:e,handler:i,middleware:o})},capture:u}})),c){var l={event:"blur",srcTarget:window,handler:function(e){return function(e){var t=e.el,n=e.event,r=e.handler,s=e.middleware;setTimeout((function(){var e=document.activeElement;e&&"IFRAME"===e.tagName&&!t.contains(e)&&a({event:n,handler:r,middleware:s})}),0)}({el:t,event:e,handler:i,middleware:o})},capture:u};t[e]=[].concat(t[e],[l])}t[e].forEach((function(n){var r=n.event,a=n.srcTarget,s=n.handler;return setTimeout((function(){t[e]&&a.addEventListener(r,s,u)}),0)}))}}function i(t){(t[e]||[]).forEach((function(e){return e.srcTarget.removeEventListener(e.event,e.handler,e.capture)})),delete t[e]}var o=t?{bind:s,update:function(e,t){var n=t.value,r=t.oldValue;JSON.stringify(n)!==JSON.stringify(r)&&(i(e),s(e,{value:n}))},unbind:i}:{};return{install:function(e){e.directive("click-outside",o)},directive:o}}()}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var s=t[r]={exports:{}};return e[r].call(s.exports,s,s.exports,n),s.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e=Statamic.$bard.tiptap.core,t=e.Mark,r=e.mergeAttributes,a=t.create({name:"lesMillsClassType",addAttributes:function(){return{key:{default:""}}},parseHTML:function(){return[{tag:"span.captns",getAttrs:function(e){return{key:e.getAttribute("data-class")}}}]},renderHTML:function(e){var t=e.mark,n=e.HTMLAttributes;return["span",r(n,{class:"captns "+t.attrs.key,"data-class":t.attrs.key}),0]},addCommands:function(){var e=this;return{setClassType:function(t){return function(n){return n.commands.toggleMark(e.name,t)}}}},pasteRules:function(e){e.type;return[]},plugins:function(){return[]}}),s=n(536);var i=function(e,t,n,r,a,s,i,o){var c,u="function"==typeof e?e.options:e;if(t&&(u.render=t,u.staticRenderFns=n,u._compiled=!0),r&&(u.functional=!0),s&&(u._scopeId="data-v-"+s),i?(c=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),a&&a.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(i)},u._ssrRegister=c):a&&(c=o?function(){a.call(this,(u.functional?this.parent:this).$root.$options.shadowRoot)}:a),c)if(u.functional){u._injectStyles=c;var l=u.render;u.render=function(e,t){return c.call(t),l(e,t)}}else{var d=u.beforeCreate;u.beforeCreate=d?[].concat(d,c):[c]}return{exports:e,options:u}}({directives:{clickOutside:n.n(s)().directive},mixins:[BardToolbarButton],computed:{classTypes:function(){return{lead:{name:"Lead"}}},currentKey:function(){return this.editor.getAttributes("lesMillsClassType").key}},data:function(){return{showOptions:!1}},methods:{closeClassTypeMenu:function(){this.showOptions=!1},setClassType:function(e){this.editor.commands.setClassType({key:e!==this.currentKey&&e}),this.showOptions=!1}}},(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"inline-block relative"},[n("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.button.text,expression:"button.text"}],staticClass:"bard-toolbar-button",class:{active:e.currentKey||e.showOptions},domProps:{innerHTML:e._s(e.button.html)},on:{click:function(t){e.showOptions=!e.showOptions}}}),e._v(" "),e.showOptions?n("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.closeClassTypeMenu,expression:"closeClassTypeMenu"}],staticClass:"absolute bg-white border border-gray-300 rounded-sm z-10 divide-y divide-gray-100 shadow-lg"},e._l(e.classTypes,(function(t,r){return n("button",{staticClass:"text-left px-3 py-2 w-full hover:bg-gray-100 flex items-center",class:{"bg-gray-200":r==e.currentKey},on:{click:function(t){return e.setClassType(r)}}},[n("span",{staticClass:"block w-4 h-4 mr-3 flex-none",style:"background-color: "+t.colour}),e._v(" "),n("span",{staticClass:"block text-left whitespace-nowrap"},[e._v(e._s(t.name))])])})),0):e._e()])}),[],!1,null,null,null);const o=i.exports;Statamic.$bard.addExtension((function(){return a})),Statamic.$bard.buttons((function(e,t){return t({name:"lesmillsclass",text:"Captns calsses",args:{key:""},html:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" fill="currentColor"><path d="M7.6 17.295c-.03.32.22.76.65.76H22.5l-.76 4.82H3.87c-1.76 0-2.47-1.6-2.36-2.58l2.93-19.17h5.58l-2.41 16.17"/></svg>',component:o})}))})()})();